<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>üè≠ Cross-Compiling</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Welcome</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../index.html">üëã About: IOTA for Flutter</a></li><li class="chapter-item expanded "><a href="../welcome/what-youll-get.html">üíª What you'll get</a></li><li class="chapter-item expanded "><a href="../welcome/when-you-are-js-developer/index.html">‚òï When you are JS developer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../welcome/when-you-are-js-developer/dart-vs.-javascript.html">Dart vs. JavaScript</a></li></ol></li><li class="chapter-item expanded "><a href="../welcome/which-resources-you-need.html">‚ú® Which resources you need</a></li><li class="chapter-item expanded "><a href="../welcome/how-to-get-the-most-out-of-this-tutorial.html">üßê How to get the most out of this tutorial</a></li><li class="chapter-item expanded "><a href="../welcome/what-does-this-tutorial-not-contain.html">‚ö†Ô∏è What does this tutorial NOT contain?</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Fundamentals</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../fundamentals/android-studio/index.html">Android Studio</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fundamentals/android-studio/set-up.html">Set up</a></li><li class="chapter-item expanded "><a href="../fundamentals/android-studio/essentials.html">Essentials</a></li></ol></li><li class="chapter-item expanded "><a href="../fundamentals/xcode/index.html">Xcode</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fundamentals/xcode/set-up.html">Set up</a></li><li class="chapter-item expanded "><a href="../fundamentals/xcode/essentials.html">Essentials</a></li></ol></li><li class="chapter-item expanded "><a href="../fundamentals/flutter/index.html">Flutter</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fundamentals/flutter/set-up.html">Set up</a></li><li class="chapter-item expanded "><a href="../fundamentals/flutter/essentials.html">Essentials</a></li></ol></li><li class="chapter-item expanded "><a href="../fundamentals/rust/index.html">Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fundamentals/rust/set-up.html">Set up</a></li><li class="chapter-item expanded "><a href="../fundamentals/rust/essentials.html">Essentials</a></li></ol></li><li class="chapter-item expanded "><a href="../fundamentals/ide-visual-studio-code/index.html">IDE: Visual Studio Code</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../fundamentals/ide-visual-studio-code/set-up.html">Set up</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Overview</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../overview/how-everything-works-together/index.html">üí° How everything works together</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../overview/how-everything-works-together/workflow.html">Workflow</a></li><li class="chapter-item expanded "><a href="../overview/how-everything-works-together/handling-code-changes.html">Handling code changes</a></li></ol></li><li class="chapter-item expanded "><a href="../overview/cross-compiling.html" class="active">üè≠ Cross-Compiling</a></li><li class="chapter-item expanded "><a href="../overview/flutter-rust-bridge/index.html">üåÅ Flutter Rust Bridge</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../overview/flutter-rust-bridge/about.html">About</a></li><li class="chapter-item expanded "><a href="../overview/flutter-rust-bridge/features.html">Language translations</a></li></ol></li><li class="chapter-item expanded "><a href="../overview/iota-libraries.html">üìö IOTA libraries</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Building without IOTA</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-only.html">Flutter only</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/index.html">Flutter and Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/index.html">FRB Template App - modified Workflow</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/common-part-1.html">1. Initialization and Rust part</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/android-instructions.html">2. Android instructions</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/common-macos-ios.html">3. Common macOS/iOS instructions</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/macos-instructions.html">4. macOS instructions</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/ios-instructions.html">5. iOS instructions</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/common-part-2.html">6. Flutter part</a></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/frb-example-app/build-run.html">7. Build and run</a></li></ol></li><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/logging-example-app/index.html">Logging Example App</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../building-without-iota/flutter-and-rust/logging-example-app/resources.html">Resources</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><li class="part-title">Building a Simple App</li><li class="spacer"></li><li class="chapter-item expanded "><a href="../building-a-simple-app/whats-the-result.html">What's the result?</a></li><li class="chapter-item expanded "><a href="../building-a-simple-app/core-api.html">Core API and iota.rs</a></li><li class="chapter-item expanded "><a href="../building-a-simple-app/create-flutter-app-and-rust-folder.html">Create Flutter App and Rust folder</a></li><li class="chapter-item expanded "><a href="../building-a-simple-app/building-for-android.html">Building for Android</a></li><li class="chapter-item expanded "><a href="../building-a-simple-app/building-for-macos.html">Building for macOS</a></li><li class="chapter-item expanded "><a href="../building-a-simple-app/building-for-ios.html">Building for iOS</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="-cross-compiling"><a class="header" href="#-cross-compiling">üè≠ Cross-Compiling</a></h1>
<hr />
<p>Exploring the required Targets.</p>
<hr />
<p>The Rust compiler functions as a cross-compiler by default. It allows us to translate our Rust code into the target platform and package it as a library. However, to enable this functionality, we need to ensure that all the required targets are installed on the host computer. In this chapter, we will delve into the relevant targets for <em>IOTA for Flutter</em>.</p>
<p><a href="https://doc.rust-lang.org/rustc/targets/index.html" target="_blank">üëâ ¬† Rust Targets</a></p>
<h2 id="about-targets"><a class="header" href="#about-targets">About Targets</a></h2>
<p>In the context of software development, a &quot;target&quot; typically refers to the platform or environment for which software is being developed or compiled. The Components of a target specification can vary depending on the context and tooling being used.</p>
<ol>
<li>
<p><strong>Architecture</strong>: The target architecture specifies the instruction set and hardware architecture for which the software is being compiled or built. Examples include x86, x86_64, ARMv7, ARMv8, etc.</p>
</li>
<li>
<p><strong>Vendor</strong>: The vendor component indicates the company or organization associated with the target platform. It helps identify the specific platform or ecosystem for which the software is intended. Examples include apple, android, linux, windows, etc.</p>
</li>
<li>
<p><strong>Operating System</strong>: The operating system component represents the software layer that manages system resources and provides services to applications. It defines the environment in which the software will run. Examples include darwin (macOS, iOS), linux, windows, android, etc.</p>
</li>
<li>
<p><strong>ABI (Application Binary Interface)</strong>: The ABI component defines the interface between the compiled application code and the operating system and hardware. It defines how functions are called, how parameters and return values are passed, how memory is allocated, and other low-level details of interaction between software and the underlying system.</p>
</li>
</ol>
<h3 id=""><a class="header" href="#"></a></h3>
<h3 id="targets-needed-for-macos-and-ios-development"><a class="header" href="#targets-needed-for-macos-and-ios-development">Targets needed for macOS and iOS Development</a></h3>
<p>The Target Structure typically consists of the following Components:</p>
<pre><code>&lt;Architecture&gt;-&lt;Vendor&gt;-&lt;Operating System&gt;
</code></pre>
<table style="display: flex; justify-content: left;">
<tr><th style="text-align:left;padding:5px 20px;">Target</th><th style="text-align:left;padding:5px 20px;">Meaning</th></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">aarch64-apple-darwin</td>
<td>Targeting Apple devices running macOS with ARM 64-bit architecture (Apple Silicon).</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">x86_64-apple-darwin</td>
<td>Targeting Apple devices running macOS with Intel 64-bit x86 architecture .</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;"></td>
<td></td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">aarch64-apple-ios</td>
<td>Targeting iOS devices with ARM 64-bit architecture, as used since the iPhone 5S and later, the iPad Air, Air 2 and Pro, with the A7 and later chips.</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">armv7s-apple-ios</td>
<td>Targeting iOS devices with 32-bit ARMv7s architecture ("old"), used in A6 and A6X chips on iPhone 5, iPhone 5C and iPad 4.</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">armv7-apple-ios</td>
<td>Targeting iOS devices with 32-bit ARMv7 architecture, used in A5 chip ("old").</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;"></td>
<td></td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">aarch64-apple-ios-sim</td>
<td>Targeting iOS Simulator for Xcode 12 and later on hosts with ARM 64-bit architecture.</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">x86_64-apple-ios-sim</td>
<td>Targeting iOS Simulator for Xcode 12 and later on hosts with 64-bit x86 architecture.</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">i386-apple-ios</td>
<td>Targeting iOS Simulator on hosts with 32-bit x86 architecture ("old").</td></tr>
</table>
<blockquote>
<p><strong>Example</strong>: My workstation computer is a MacBook Air with an M1 chip. Therefore, the following targets are essential for me when developing for macOS and iOS: <em>aarch64-apple-darwin</em> (for macOS), <em>aarch64-apple-ios-sim</em> (simulator for the M1 host environment), and <em>aarch64-apple-ios</em> (for iOS).</p>
</blockquote>
<h3 id="-1"><a class="header" href="#-1"></a></h3>
<h3 id="targets-needed-for-android-development"><a class="header" href="#targets-needed-for-android-development">Targets needed for Android Development</a></h3>
<p>In the context of <em>IOTA for Flutter</em> the Android Native Development Kit (NDK) must be installed. It is used to provide the necessary tools and APIs to interface with the cross-compiled library. The Target Structure then follows the format:</p>
<pre><code>&lt;Architecture&gt;-&lt;Operating_system&gt;-&lt;ABI*&gt;
</code></pre>
<p>ABI* : As part of the Target, the ABI component is different to the correct ABI naming, due to historical reasons or to maintain compatibility. The correct ABI naming is listed in the second column.</p>
<table style="display: flex; justify-content: left;">
<tr><th style="text-align:left;padding:5px 20px;">Target</th><th style="text-align:left;padding:5px 20px;">ABI</th><th style="text-align:left;padding:5px 20px;">Meaning</th></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">aarch64-linux-android</td><td style="white-space:nowrap;vertical-align:top;">arm64-v8a</td>
<td>Targeting Android devices on ARM 64-bit architecture (most modern ARM-based Android devices).</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">armv7-linux-androideabi</td><td style="white-space:nowrap;vertical-align:top;">armeabi-v7a</td>
<td>Targeting Android devices on ARMv7 architecture (older ARM-based Android devices).</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">x86_64-linux-android</td><td style="white-space:nowrap;vertical-align:top;">x86_64</td>
<td>Targeting Android devices on 64-bit x86 architecture (Android emulators, modern x86-based devices).</td></tr>
<tr><td style="white-space:nowrap;vertical-align:top;">i686-linux-android</td style="white-space:nowrap;vertical-align:top;"><td>x86</td>
<td>Targeting Android devices on 32-bit x86 architecture (Android emulators, older x86-based devices).</td></tr>
</table>
<blockquote>
<p><strong>Example</strong>: My only current Android Virtual Device is a Pixel 3a phone with arm64-v8a system image. Therefore the only interesting target for development is <em>aarch64-linux-android</em>.</p>
</blockquote>
<h3 id="-2"><a class="header" href="#-2"></a></h3>
<h2 id="which-targets-are-installed-on-my-system"><a class="header" href="#which-targets-are-installed-on-my-system">Which targets are installed on my system?</a></h2>
<p>To find out which targets are installed on your system, run the following command:</p>
<p><code>rustc --print target-list</code></p>
<h2 id="how-to-add-missing-targets"><a class="header" href="#how-to-add-missing-targets">How to add missing targets</a></h2>
<p>When you first install a toolchain, rustup installs only the standard library for your host platform - that is, the architecture and operating system you are presently running. To compile to other platforms you must install other target platforms. This is done with the command:</p>
<p><code>rustup target add &lt;target&gt;</code></p>
<p>For example:</p>
<p><code>rustup target add armv7-linux-androideabi</code></p>
<p><a href="https://rust-lang.github.io/rustup/cross-compilation.html" target="_blank">üëâ ¬† The Rustup Book - Cross-compilation</a></p>
<h3 id="-3"><a class="header" href="#-3"></a></h3>
<h2 id="how-to-manually-cross-compile-to-a-target-of-your-choice"><a class="header" href="#how-to-manually-cross-compile-to-a-target-of-your-choice">How to manually cross-compile to a target of your choice</a></h2>
<p>Sometimes, you might need to cross-compile your Rust code to a specific target separately from the Flutter build process. To ensure that everything runs smoothly, make sure you are in the <em>rust</em> folder (on the same level as <em>Cargo.toml</em>).</p>
<h3 id="manually-cross-compile-for-macos-or-ios"><a class="header" href="#manually-cross-compile-for-macos-or-ios">Manually cross-compile for macOS or iOS</a></h3>
<p>On macOS and/or iOS you can start the process by executing this command in the Terminal:</p>
<p><code>cargo build --target &lt;target&gt;</code></p>
<p>For example:</p>
<p><code>cargo build --target aarch64-apple-ios</code></p>
<h3 id="manually-cross-compile-for-android"><a class="header" href="#manually-cross-compile-for-android">Manually cross-compile for Android</a></h3>
<p>On Android you can start the process by executing this command in the Terminal:</p>
<p><code>cargo ndk -t &lt;abi&gt; build</code></p>
<p>For example:</p>
<p><code>cargo ndk -t arm64-v8a build</code></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../overview/how-everything-works-together/handling-code-changes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../overview/flutter-rust-bridge/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../overview/how-everything-works-together/handling-code-changes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../overview/flutter-rust-bridge/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
